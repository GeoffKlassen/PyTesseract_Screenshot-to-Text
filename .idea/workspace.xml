<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AutoImportSettings">
    <option name="autoReloadType" value="SELECTIVE" />
  </component>
  <component name="ChangeListManager">
    <list default="true" id="4e170b4d-2af2-47c5-9e6d-e8a288c22989" name="Changes" comment="Minor fixes">
      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/RuntimeValues.py" beforeDir="false" afterPath="$PROJECT_DIR$/RuntimeValues.py" afterDir="false" />
      <change beforePath="$PROJECT_DIR$/Studies.py" beforeDir="false" afterPath="$PROJECT_DIR$/Studies.py" afterDir="false" />
    </list>
    <option name="SHOW_DIALOG" value="false" />
    <option name="HIGHLIGHT_CONFLICTS" value="true" />
    <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
    <option name="LAST_RESOLUTION" value="IGNORE" />
  </component>
  <component name="Git.Settings">
    <option name="PREVIOUS_COMMIT_AUTHORS">
      <list>
        <option value="Geoff-Laptop &lt;geoffk@hotmail.ca&gt;" />
      </list>
    </option>
    <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
  </component>
  <component name="ProjectColorInfo">{
  &quot;customColor&quot;: &quot;&quot;,
  &quot;associatedIndex&quot;: 0
}</component>
  <component name="ProjectId" id="2uJnfOxU9EX0Tn7mAL2BafeJd68" />
  <component name="ProjectViewState">
    <option name="hideEmptyMiddlePackages" value="true" />
    <option name="showLibraryContents" value="true" />
  </component>
  <component name="PropertiesComponent">{
  &quot;keyToString&quot;: {
    &quot;Python.AndroidFunctions.executor&quot;: &quot;Debug&quot;,
    &quot;Python.Detecting Duplicate Screenshots with MSE.executor&quot;: &quot;Run&quot;,
    &quot;Python.OCRScript_v3.executor&quot;: &quot;Run&quot;,
    &quot;Python.RuntimeValues.executor&quot;: &quot;Run&quot;,
    &quot;Python.Studies.executor&quot;: &quot;Run&quot;,
    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
    &quot;git-widget-placeholder&quot;: &quot;master&quot;,
    &quot;last_opened_file_path&quot;: &quot;C:/Users/geoff/OneDrive - University of Saskatchewan/Marking/CMPT 263 2024-25 Winter&quot;,
    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;
  }
}</component>
  <component name="RunManager">
    <configuration name="OCRScript_v3" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
      <module name="OCRScript_v3" />
      <option name="ENV_FILES" value="" />
      <option name="INTERPRETER_OPTIONS" value="" />
      <option name="PARENT_ENVS" value="true" />
      <envs>
        <env name="PYTHONUNBUFFERED" value="1" />
      </envs>
      <option name="SDK_HOME" value="" />
      <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$" />
      <option name="IS_MODULE_SDK" value="true" />
      <option name="ADD_CONTENT_ROOTS" value="true" />
      <option name="ADD_SOURCE_ROOTS" value="true" />
      <option name="SCRIPT_NAME" value="$PROJECT_DIR$/OCRScript_v3.py" />
      <option name="PARAMETERS" value="" />
      <option name="SHOW_COMMAND_LINE" value="false" />
      <option name="EMULATE_TERMINAL" value="false" />
      <option name="MODULE_MODE" value="false" />
      <option name="REDIRECT_INPUT" value="false" />
      <option name="INPUT_FILE" value="" />
      <method v="2" />
    </configuration>
    <recent_temporary>
      <list>
        <item itemvalue="Python.OCRScript_v3" />
      </list>
    </recent_temporary>
  </component>
  <component name="SharedIndexes">
    <attachedChunks>
      <set>
        <option value="bundled-python-sdk-14705d77f0bb-aa17d162503b-com.jetbrains.pycharm.community.sharedIndexes.bundled-PC-243.25659.43" />
      </set>
    </attachedChunks>
  </component>
  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
  <component name="TaskManager">
    <task active="true" id="Default" summary="Default task">
      <changelist id="4e170b4d-2af2-47c5-9e6d-e8a288c22989" name="Changes" comment="" />
      <created>1741975647747</created>
      <option name="number" value="Default" />
      <option name="presentableId" value="Default" />
      <updated>1741975647747</updated>
    </task>
    <task id="LOCAL-00001" summary="1. Added 'relative difference' to ETA csv&#10;&#10;2. Added columns for 'same user' and 'different user' counts to Duplicate Screenshot Info csv&#10;&#10;3. When showing images on screen, program now uses the current screen's height as a metric for how much to scale the image (so it fits on the screen).&#10;&#10;4. Set maximum error_margin for two strings to be 7&#10;&#10;5. Program now outputs a CSV of the confidence values of the data (as well as the data itself)&#10;&#10;6. In AndroidFunctions.py: getting headings now uses two forms of a filtered row text (hashes instead of numbers, and that plus no spaces) in comparing row text to heading keywords. Helps to catch more headings.">
      <option name="closed" value="true" />
      <created>1741986069543</created>
      <option name="number" value="00001" />
      <option name="presentableId" value="LOCAL-00001" />
      <option name="project" value="LOCAL" />
      <updated>1741986069543</updated>
    </task>
    <task id="LOCAL-00002" summary="Added 'updated_df' that prints to console whenever new data is compared to existing data (for a participant-day-category)">
      <option name="closed" value="true" />
      <created>1741989319151</created>
      <option name="number" value="00002" />
      <option name="presentableId" value="LOCAL-00002" />
      <option name="project" value="LOCAL" />
      <updated>1741989319151</updated>
    </task>
    <task id="LOCAL-00003" summary="Added 'updated_df' that prints to console whenever new data is compared to existing data (for a participant-day-category)">
      <option name="closed" value="true" />
      <created>1741989847277</created>
      <option name="number" value="00003" />
      <option name="presentableId" value="LOCAL-00003" />
      <option name="project" value="LOCAL" />
      <updated>1741989847277</updated>
    </task>
    <task id="LOCAL-00004" summary="Trying out a new ETA calculation, based only on the 50 most recent screenshots (of each OS version), instead of averaging ALL of them.">
      <option name="closed" value="true" />
      <created>1741999208666</created>
      <option name="number" value="00004" />
      <option name="presentableId" value="LOCAL-00004" />
      <option name="project" value="LOCAL" />
      <updated>1741999208666</updated>
    </task>
    <task id="LOCAL-00005" summary="New method of detecting hours axis seems to be working just as well as the old method.&#10;&#10;Also, found out why '00 06 12 18' was being replaced with '0 6 12 18' --- it has to do with the 'ensure_text_is_string' function in the extract_text_from_image function -- that function converted each word to an integer (if possible), then back to a string.">
      <option name="closed" value="true" />
      <created>1742200385490</created>
      <option name="number" value="00005" />
      <option name="presentableId" value="LOCAL-00005" />
      <option name="project" value="LOCAL" />
      <updated>1742200385490</updated>
    </task>
    <task id="LOCAL-00006" summary="1. In extract_text_from_image, added a new regex replacement for hours rows, where the hours values appear as one word (e.g., 12AM6AM). They should be spaced apart in order for the code to find them as words and identify the row as an HOURS AXIS.&#10;&#10;2.Added a boolean for save_log_and_CSVs to RuntimeValues.py.&#10;&#10;3. Made sure MISREAD_TIME_FORMAT_IOS cannot match a time like 73 minutes or 1 hour 493 minutes.&#10;&#10;4. In extract_app_info, now allowing the truncated_initial_scan dataframe to include confident app names in the app area for Android screenshots only.&#10;&#10;5. When consolidating overlapping text (in the app area), if one row matches a long time format but the previous row doesn't, then the previous row is dropped (and vice versa).">
      <option name="closed" value="true" />
      <created>1742278704931</created>
      <option name="number" value="00006" />
      <option name="presentableId" value="LOCAL-00006" />
      <option name="project" value="LOCAL" />
      <updated>1742278704931</updated>
    </task>
    <task id="LOCAL-00007" summary="When the main category heading is found in the screenshot, the default crop_top should be changed to below that main heading, so that in case a better crop_top is not found, the original default of crop_top = 0 is not used. (We will have established that none of the data we're looking for is above that main heading.)">
      <option name="closed" value="true" />
      <created>1742349730120</created>
      <option name="number" value="00007" />
      <option name="presentableId" value="LOCAL-00007" />
      <option name="project" value="LOCAL" />
      <updated>1742349730120</updated>
    </task>
    <task id="LOCAL-00008" summary="1. When extracting text from an image, words that are just a single '.' are now discarded. Also, the app icon for the app named &quot;Character.AI&quot; is the text &quot;c.ai&quot; (or 'cai'), so that word will also be ignored.&#10;&#10;2. Broadened the search for language keywords by including more dictionaries in the search -- KEYWORDS_FOR_TODAY, KEYWORDS_FOR_WEEKDAY_NAMES, KEYWORDS_FOR_WEEK, and KEYWORDS_FOR_UNRELATED_SCREENSHOTS (with the condition that the dictionary value must be longer than 3 characters).&#10;&#10;3. Reverted to the old method of what text from the initial scan gets merged into the crop-area scan. Only digits and time formats (no app names). It was causing strange overlap words.&#10;&#10;4. Added warning message when save_log_and_CSVs is false. (Output will not be saved.)&#10;&#10;5. Added search for 'AM|PM' when detecting the heading HOURS AXIS. 2+ instances flags the row as an HOURS AXIS row. This should eliminate the need for the backup (old) regex method.&#10;&#10;6. Fixed misprint where the crop_top said it was &quot;below &lt;app name&gt;&quot; when the calculation set crop_top above the app name.&#10;&#10;7. Fixed error where last_index_headings could have no value if the only heading in headings_df was the SEE_ALL_N_APPS heading, which caused the program to crash.&#10;&#10;8.">
      <option name="closed" value="true" />
      <created>1742417611656</created>
      <option name="number" value="00008" />
      <option name="presentableId" value="LOCAL-00008" />
      <option name="project" value="LOCAL" />
      <updated>1742417611656</updated>
    </task>
    <task id="LOCAL-00009" summary="1. Sometimes the date text is misread as a later date (e.g., 'Sept 23' may be misread as 'Sept 28'). Code now checks for 'yesterday/today' text first, then (if it's found) uses it to correct misread dates; if it's not found, it uses common digit misreadings to correct the date (e.g. '1' misread as '7', '3' misread as '8', and '0' misread as '6').&#10;&#10;2. Re-searching for date text when no date text is found (for Google dashboard). Image is scanned at original size rather than resized.&#10;&#10;ParticipantClass.py also won't add data to a participant's temporal data if the detected date is later than the submitted date.">
      <option name="closed" value="true" />
      <created>1742575884772</created>
      <option name="number" value="00009" />
      <option name="presentableId" value="LOCAL-00009" />
      <option name="project" value="LOCAL" />
      <updated>1742575884772</updated>
    </task>
    <task id="LOCAL-00010" summary="If neither the date text nor the day text is found on the inital scan, but then the date is found on the date-rescan, we need to make sure to set the day_type based on the relative diffence between the submitted date and the detected date. Moved date detection to above the day_type detection so the day_type detection uses whatever date comes out of get_date_in_screenshot (which includes both the initial scan and a rescan if necessary).">
      <option name="closed" value="true" />
      <created>1742602139165</created>
      <option name="number" value="00010" />
      <option name="presentableId" value="LOCAL-00010" />
      <option name="project" value="LOCAL" />
      <updated>1742602139165</updated>
    </task>
    <task id="LOCAL-00011" summary="Added column to final screenshot df that gives the number of user accounts that submitted the same screenshot (at least once). Useful for identifying fraudulent accounts.&#10;&#10;Changed default crop_left for Google dashboard version from 0.15*screenshot_width to 0.10*screenshot_width. Several images are more widescreen than a usual vertical screenshot (almost like they're from a computer screen or a tablet).">
      <option name="closed" value="true" />
      <created>1744072546837</created>
      <option name="number" value="00011" />
      <option name="presentableId" value="LOCAL-00011" />
      <option name="project" value="LOCAL" />
      <updated>1744072546837</updated>
    </task>
    <task id="LOCAL-00012" summary="Changed hash computation; the hash for each screenshot is now computed from a string that concatenates the text and the confidence values (instead of just the text).">
      <option name="closed" value="true" />
      <created>1744406945515</created>
      <option name="number" value="00012" />
      <option name="presentableId" value="LOCAL-00012" />
      <option name="project" value="LOCAL" />
      <updated>1744406945515</updated>
    </task>
    <task id="LOCAL-00013" summary="Added ability to read in existing data extracted from a previous run of the program.  This seems to work well, but the final 'temporal data' CSV is not sorted properly. A new data row got inserted at the top of its user_id section, when it should have been inserted at the bottom.">
      <option name="closed" value="true" />
      <created>1746840632501</created>
      <option name="number" value="00013" />
      <option name="presentableId" value="LOCAL-00013" />
      <option name="project" value="LOCAL" />
      <updated>1746840632501</updated>
    </task>
    <task id="LOCAL-00014" summary="Fixed issue with all_participants_df not getting sorted by date properly. The issue was that, when the existing dataframe is loaded, the 'date_detected' column gets loaded in string format. Fixed the issue by converting the column to the date format from the datetime module. Sort now works properly.">
      <option name="closed" value="true" />
      <created>1747074224106</created>
      <option name="number" value="00014" />
      <option name="presentableId" value="LOCAL-00014" />
      <option name="project" value="LOCAL" />
      <updated>1747074224106</updated>
    </task>
    <task id="LOCAL-00015" summary="Screenshot hashes are now created using the image array (pixels) instead of the data extracted from the image. This means all screenshots have a hash, regardless of if any text is extracted from them.&#10;&#10;Moved the creation of the ERR_DUPLICATE_DATA and ERR_DUPLICATE_COUNTS columns to after all screenshots are analyzed. This allows for loaded data to have its ERR_DUPLICATE_DATA and ERR_DUPLICATE_COUNTS columns updated to reflect if they are a duplicate of any new screenshot.">
      <option name="closed" value="true" />
      <created>1747949253259</created>
      <option name="number" value="00015" />
      <option name="presentableId" value="LOCAL-00015" />
      <option name="project" value="LOCAL" />
      <updated>1747949253259</updated>
    </task>
    <task id="LOCAL-00016" summary="Minor fixes">
      <option name="closed" value="true" />
      <created>1748046258103</created>
      <option name="number" value="00016" />
      <option name="presentableId" value="LOCAL-00016" />
      <option name="project" value="LOCAL" />
      <updated>1748046258103</updated>
    </task>
    <option name="localTasksCounter" value="17" />
    <servers />
  </component>
  <component name="Vcs.Log.Tabs.Properties">
    <option name="TAB_STATES">
      <map>
        <entry key="MAIN">
          <value>
            <State />
          </value>
        </entry>
      </map>
    </option>
  </component>
  <component name="VcsManagerConfiguration">
    <MESSAGE value="1. Added 'relative difference' to ETA csv&#10;&#10;2. Added columns for 'same user' and 'different user' counts to Duplicate Screenshot Info csv&#10;&#10;3. When showing images on screen, program now uses the current screen's height as a metric for how much to scale the image (so it fits on the screen).&#10;&#10;4. Set maximum error_margin for two strings to be 7&#10;&#10;5. Program now outputs a CSV of the confidence values of the data (as well as the data itself)&#10;&#10;6. In AndroidFunctions.py: getting headings now uses two forms of a filtered row text (hashes instead of numbers, and that plus no spaces) in comparing row text to heading keywords. Helps to catch more headings." />
    <MESSAGE value="Added 'updated_df' that prints to console whenever new data is compared to existing data (for a participant-day-category)" />
    <MESSAGE value="Trying out a new ETA calculation, based only on the 50 most recent screenshots (of each OS version), instead of averaging ALL of them." />
    <MESSAGE value="New method of detecting hours axis seems to be working just as well as the old method.&#10;&#10;Also, found out why '00 06 12 18' was being replaced with '0 6 12 18' --- it has to do with the 'ensure_text_is_string' function in the extract_text_from_image function -- that function converted each word to an integer (if possible), then back to a string. The problem is now resolved, and the HOURS AXIS detection method no longer needs to include searches for '0' and '6', it can just include '00' and '06' (since that's how the hours row may appear on certain iOS screenshots)." />
    <MESSAGE value="New method of detecting hours axis seems to be working just as well as the old method.&#10;&#10;Also, found out why '00 06 12 18' was being replaced with '0 6 12 18' --- it has to do with the 'ensure_text_is_string' function in the extract_text_from_image function -- that function converted each word to an integer (if possible), then back to a string. The problem is now resolved, and the HOURS AXIS detection method no longer needs to include searches for '0' and '6', it can just include '00' and '06' (since that's how the hours row may appear on certain iOS screenshots)." />
    <MESSAGE value="1. In extract_text_from_image, added a new regex replacement for hours rows, where the hours values appear as one word (e.g., 12AM6AM). They should be spaced apart in order for the code to find them as words and identify the row as an HOURS AXIS.&#10;&#10;2.Added a boolean for save_log_and_CSVs to RuntimeValues.py.&#10;&#10;3. Made sure MISREAD_TIME_FORMAT_IOS cannot match a time like 73 minutes or 1 hour 493 minutes.&#10;&#10;4. In extract_app_info, now allowing the truncated_initial_scan dataframe to include confident app names in the app area for Android screenshots only.&#10;&#10;5. When consolidating overlapping text (in the app area), if one row matches a long time format but the previous row doesn't, then the previous row is dropped (and vice versa)." />
    <MESSAGE value="When the main category heading is found in the screenshot, the default crop_top should be changed to below that main heading, so that in case a better crop_top is not found, the original default of crop_top = 0 is not used. (We will have established that none of the data we're looking for is above that main heading.)" />
    <MESSAGE value="1. When extracting text from an image, words that are just a single '.' are now discarded. Also, the app icon for the app named &quot;Character.AI&quot; is the text &quot;c.ai&quot; (or 'cai'), so that word will also be ignored.&#10;&#10;2. Broadened the search for language keywords by including more dictionaries in the search -- KEYWORDS_FOR_TODAY, KEYWORDS_FOR_WEEKDAY_NAMES, KEYWORDS_FOR_WEEK, and KEYWORDS_FOR_UNRELATED_SCREENSHOTS (with the condition that the dictionary value must be longer than 3 characters).&#10;&#10;3. Reverted to the old method of what text from the initial scan gets merged into the crop-area scan. Only digits and time formats (no app names). It was causing strange overlap words.&#10;&#10;4. Added warning message when save_log_and_CSVs is False. (Output will not be saved.)&#10;&#10;5. Added search for 'AM|PM' when detecting the heading HOURS AXIS. 2+ instances flags the row as an HOURS AXIS row. This should eliminate the need for the backup (old) regex method.&#10;&#10;6. Fixed misprint where the crop_top said it was &quot;below &lt;app name&gt;&quot; when the calculation set crop_top above the app name.&#10;&#10;7. Fixed error where last_index_headings could have no value if the only heading in headings_df was the SEE_ALL_N_APPS heading, which caused the program to crash." />
    <MESSAGE value="1. When extracting text from an image, words that are just a single '.' are now discarded. Also, the app icon for the app named &quot;Character.AI&quot; is the text &quot;c.ai&quot; (or 'cai'), so that word will also be ignored.&#10;&#10;2. Broadened the search for language keywords by including more dictionaries in the search -- KEYWORDS_FOR_TODAY, KEYWORDS_FOR_WEEKDAY_NAMES, KEYWORDS_FOR_WEEK, and KEYWORDS_FOR_UNRELATED_SCREENSHOTS (with the condition that the dictionary value must be longer than 3 characters).&#10;&#10;3. Reverted to the old method of what text from the initial scan gets merged into the crop-area scan. Only digits and time formats (no app names). It was causing strange overlap words.&#10;&#10;4. Added warning message when save_log_and_CSVs is False. (Output will not be saved.)&#10;&#10;5. Added search for 'AM|PM' when detecting the heading HOURS AXIS. 2+ instances flags the row as an HOURS AXIS row. This should eliminate the need for the backup (old) regex method.&#10;&#10;6. Fixed misprint where the crop_top said it was &quot;below &lt;app name&gt;&quot; when the calculation set crop_top above the app name.&#10;&#10;7. Fixed error where last_index_headings could have no value if the only heading in headings_df was the SEE_ALL_N_APPS heading, which caused the program to crash." />
    <MESSAGE value="1. Sometimes the date text is misread as a later date (e.g., 'Sept 23' may be misread as 'Sept 28'). Code now checks for 'yesterday/today' text first, then (if it's found) uses it to correct misread dates; if it's not found, it uses common digit misreadings to correct the date (e.g. '1' misread as '7', '3' misread as '8', and '0' misread as '6').&#10;&#10;2. Re-searching for date text when no date text is found (for Google dashboard). Image is scanned at original size rather than resized.&#10;&#10;ParticipantClass.py also won't add data to a participant's temporal data if the detected date is later than the submitted date." />
    <MESSAGE value="If neither the date text nor the day text is found on the inital scan, but then the date is found on the date-rescan, we need to make sure to set the day_type based on the relative diffence between the submitted date and the detected date. Moved date detection to above the day_type detection so the day_type detection uses whatever date comes out of get_date_in_screenshot (which includes both the initial scan and a rescan if necessary)." />
    <MESSAGE value="Added column to final screenshot df that gives the number of user accounts that submitted the same screenshot (at least once). Useful for identifying fraudulent accounts.&#10;&#10;Changed default crop_left for Google dashboard version from 0.15*screenshot_width to 0.10*screenshot_width. Several images are more widescreen than a usual vertical screenshot (almost like they're from a computer screen or a tablet)." />
    <MESSAGE value="Changed hash computation; the hash for each screenshot is now computed from a string that concatenates the text and the confidence values (instead of just the text)." />
    <MESSAGE value="Added ability to read in existing data extracted from a previous run of the program.  This seems to work well, but the final 'temporal data' CSV is not sorted properly. A new data row got inserted at the top of its user_id section, when it should have been inserted at the bottom." />
    <MESSAGE value="Fixed issue with all_participants_df not getting sorted by date properly. The issue was that, when the existing dataframe is loaded, the 'date_detected' column gets loaded in string format. Fixed the issue by converting the column to the date format from the datetime module. Sort now works properly." />
    <MESSAGE value="Screenshot hashes are now created using the image array (pixels) instead of the data extracted from the image. This means all screenshots have a hash, regardless of if any text is extracted from them.&#10;&#10;Moved the creation of the ERR_DUPLICATE_DATA and ERR_DUPLICATE_COUNTS columns to after all screenshots are analyzed. This allows for loaded data to have its ERR_DUPLICATE_DATA and ERR_DUPLICATE_COUNTS columns updated to reflect if they are a duplicate of any new screenshot." />
    <MESSAGE value="Minor fixes" />
    <option name="LAST_COMMIT_MESSAGE" value="Minor fixes" />
  </component>
  <component name="XDebuggerManager">
    <breakpoint-manager>
      <breakpoints>
        <line-breakpoint enabled="true" suspend="THREAD" type="python-line">
          <url>file://$PROJECT_DIR$/ParticipantClass.py</url>
          <line>428</line>
          <option name="timeStamp" value="29" />
        </line-breakpoint>
      </breakpoints>
    </breakpoint-manager>
  </component>
</project>